use `with` as a alyternate to `if`

